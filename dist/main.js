var diceRoller;(()=>{var t={699:function(t,e,n){(function(){var t="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t},e=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(n,r){if(r)t:{var i=e;n=n.split(".");for(var a=0;a<n.length-1;a++){var o=n[a];if(!(o in i))break t;i=i[o]}(r=r(a=i[n=n[n.length-1]]))!=a&&null!=r&&t(i,n,{configurable:!0,writable:!0,value:r})}}("Symbol.dispose",(function(t){return t||Symbol("Symbol.dispose")}));var r=this||self,i=function(t,e){t:{for(var n=["CLOSURE_FLAGS"],i=r,a=0;a<n.length;a++)if(null==(i=i[n[a]])){n=null;break t}n=i}return null!=(t=n&&n[t])?t:e},a=function(t,e,n){return t.call.apply(t.bind,arguments)},o=function(t,e,n){return(o=a).apply(null,arguments)},s=function(t,e){function n(){}n.prototype=e.prototype,t.sb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ob=function(t,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return e.prototype[n].apply(t,i)}};function c(t,e){if(Error.captureStackTrace)Error.captureStackTrace(this,c);else{const t=Error().stack;t&&(this.stack=t)}t&&(this.message=String(t)),void 0!==e&&(this.cause=e)}function l(t){r.setTimeout((()=>{throw t}),0)}s(c,Error),c.prototype.name="CustomError";var u,h=i(610401301,!1),f=i(645172343,!0);const d=r.navigator;function g(t){return!!h&&!!u&&u.brands.some((({brand:e})=>e&&-1!=e.indexOf(t)))}function y(t){var e;return(e=r.navigator)&&(e=e.userAgent)||(e=""),-1!=e.indexOf(t)}function p(){return!!h&&!!u&&u.brands.length>0}function m(){return p()?g("Chromium"):(y("Chrome")||y("CriOS"))&&!(!p()&&y("Edge"))||y("Silk")}function v(t,e){(e=Array.prototype.indexOf.call(t,e,void 0))>=0&&Array.prototype.splice.call(t,e,1)}function w(t){let e="",n=0;const r=t.length-10240;for(;n<r;)e+=String.fromCharCode.apply(null,t.subarray(n,n+=10240));return e+=String.fromCharCode.apply(null,n?t.subarray(n):t),btoa(e)}u=d&&d.userAgentData||null,!y("Android")||m(),m(),y("Safari")&&(m()||!p()&&y("Coast")||!p()&&y("Opera")||!p()&&y("Edge")||(p()?g("Microsoft Edge"):y("Edg/"))||p()&&g("Opera"));const b=/[-_.]/g,S={"-":"+",_:"/",".":"="};function x(t){return S[t]||""}function A(t){return null!=t&&t instanceof Uint8Array}var T={};let E;function I(t){if(t!==T)throw Error("illegal external caller")}var N=function(){return E||(E=new P(null,T))},P=class{constructor(t,e){if(I(e),this.Z=t,null!=t&&0===t.length)throw Error("ByteString should be constructed with non-empty values")}},M=function(t,e){t.__closure__error__context__984382||(t.__closure__error__context__984382={}),t.__closure__error__context__984382.severity=e};let j;function C(){const t=Error();M(t,"incident"),l(t)}function U(t){return t=Error(t),M(t,"warning"),t}function O(){return"function"==typeof BigInt}function R(t){return Array.prototype.slice.call(t)}var _=Symbol(),k=Symbol(),L=Symbol();function D(t,e){e[_]=-14591&t}function F(t,e){e[_]=-14557&t|34}var B,$={},z={};function W(t){return!(!t||"object"!=typeof t||t.rb!==z)}function J(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)&&t.constructor===Object}function G(t,e,n){if(null!=t)if("string"==typeof t)t=t?new P(t,T):N();else if(t.constructor!==P)if(A(t))t=t.length?new P(n?t:new Uint8Array(t),T):N();else{if(!e)throw Error();t=void 0}return t}function K(t){return!(!Array.isArray(t)||t.length||!(1&t[_]))}const V=[];function Y(t){if(2&t)throw Error()}V[_]=55,B=Object.freeze(V);var H=Object.freeze({});Object.freeze({});var q=Object.freeze({});function X(t){return t.qb=!0,t}var Z=X((t=>"number"==typeof t)),Q=X((t=>"string"==typeof t)),tt=X((t=>"boolean"==typeof t)),et="function"==typeof r.BigInt&&"bigint"==typeof r.BigInt(0),nt=X((t=>et?t>=it&&t<=ot:"-"===t[0]?st(t,rt):st(t,at)));const rt=Number.MIN_SAFE_INTEGER.toString(),it=et?BigInt(Number.MIN_SAFE_INTEGER):void 0,at=Number.MAX_SAFE_INTEGER.toString(),ot=et?BigInt(Number.MAX_SAFE_INTEGER):void 0;function st(t,e){if(t.length>e.length)return!1;if(t.length<e.length||t===e)return!0;for(let n=0;n<t.length;n++){const r=t[n],i=e[n];if(r>i)return!1;if(r<i)return!0}}let ct=0,lt=0;function ut(t){const e=t>>>0;ct=e,lt=(t-e)/4294967296>>>0}function ht(t){if(t<0){ut(0-t);const[e,n]=gt(ct,lt);ct=e>>>0,lt=n>>>0}else ut(t)}function ft(t,e){if(t>>>=0,(e>>>=0)<=2097151)var n=""+(4294967296*e+t);else O()?n=""+(BigInt(e)<<BigInt(32)|BigInt(t)):(t=(16777215&t)+6777216*(n=16777215&(t>>>24|e<<8))+6710656*(e=e>>16&65535),n+=8147497*e,e*=2,t>=1e7&&(n+=t/1e7>>>0,t%=1e7),n>=1e7&&(e+=n/1e7>>>0,n%=1e7),n=e+dt(n)+dt(t));return n}function dt(t){return t=String(t),"0000000".slice(t.length)+t}function gt(t,e){return e=~e,t?t=1+~t:e+=1,[t,e]}const yt=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function pt(t){const e=typeof t;switch(e){case"bigint":return!0;case"number":return Number.isFinite(t)}return"string"===e&&yt.test(t)}function mt(t){if(null!=t){if(!Number.isFinite(t))throw U("enum");t|=0}return t}function vt(t){if(!pt(t))throw U("int64");switch(typeof t){case"string":return bt(t);case"bigint":var e=t=BigInt.asIntN(64,t);if(Q(e)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(e))throw Error(String(e))}else if(Z(e)&&!Number.isSafeInteger(e))throw Error(String(e));return et?BigInt(t):tt(t)?t?"1":"0":Q(t)?t.trim()||"0":String(t);default:return wt(t)}}function wt(t){if(t=Math.trunc(t),!Number.isSafeInteger(t)){ht(t);var e=ct,n=lt;(t=2147483648&n)&&(n=~n>>>0,0==(e=1+~e>>>0)&&(n=n+1>>>0)),e=4294967296*n+(e>>>0),t=t?-e:e}return t}function bt(t){var e=Math.trunc(Number(t));if(Number.isSafeInteger(e))return String(e);if(-1!==(e=t.indexOf("."))&&(t=t.substring(0,e)),!("-"===t[0]?t.length<20||20===t.length&&Number(t.substring(0,7))>-922337:t.length<19||19===t.length&&Number(t.substring(0,6))<922337)){if(t.length<16)ht(Number(t));else if(O())t=BigInt(t),ct=Number(t&BigInt(4294967295))>>>0,lt=Number(t>>BigInt(32)&BigInt(4294967295));else{e=+("-"===t[0]),lt=ct=0;const n=t.length;for(let r=0+e,i=(n-e)%6+e;i<=n;r=i,i+=6){const e=Number(t.slice(r,i));lt*=1e6,ct=1e6*ct+e,ct>=4294967296&&(lt+=Math.trunc(ct/4294967296),lt>>>=0,ct>>>=0)}if(e){const[t,e]=gt(ct,lt);ct=t,lt=e}}if(t=ct,2147483648&(e=lt))if(O())t=""+(BigInt(0|e)<<BigInt(32)|BigInt(t>>>0));else{const[n,r]=gt(t,e);t="-"+ft(n,r)}else t=ft(t,e)}return t}function St(t){if(null!=t&&"string"!=typeof t)throw Error();return t}function xt(t,e,n){if(null!=t&&"object"==typeof t&&t.na===$)return t;if(Array.isArray(t)){var r=0|t[_],i=r;return 0===i&&(i|=32&n),(i|=2&n)!==r&&(t[_]=i),new e(t)}}let At,Tt;var Et=function(t){let e;return null==(e=At)?void 0:e.get(t)};let It,Nt;function Pt(t,e){return Nt=e,t=new t(e),Nt=void 0,t}function Mt(t,e){return jt(e)}function jt(t){switch(typeof t){case"number":return isFinite(t)?t:String(t);case"bigint":return nt(t)?Number(t):String(t);case"boolean":return t?1:0;case"object":if(t)if(Array.isArray(t)){if(K(t))return}else{if(A(t))return w(t);if(t instanceof P){const e=t.Z;return null==e?"":"string"==typeof e?e:t.Z=w(e)}}}return t}function Ct(t,e,n,r,i){if(null!=t){if(Array.isArray(t))t=K(t)?void 0:i&&2&t[_]?t:Ut(t,e,n,void 0!==r,i);else if(J(t)){const a={};for(let o in t)a[o]=Ct(t[o],e,n,r,i);t=a}else t=e(t,r);return t}}function Ut(t,e,n,r,i){const a=r||n?0|t[_]:0;r=r?!!(32&a):void 0,t=R(t);for(let a=0;a<t.length;a++)t[a]=Ct(t[a],e,n,r,i);return n&&n(a,t),t}function Ot(t){return t.na===$?t.toJSON():jt(t)}function Rt(t,e,n=F){if(null!=t){if(t instanceof Uint8Array)return e?t:new Uint8Array(t);if(Array.isArray(t)){var r=0|t[_];return 2&r?t:(e&&(e=0===r||!!(32&r)&&!(64&r||!(16&r))),e?(t[_]=-12293&r|34,t):Ut(t,Rt,4&r?F:n,!0,!0))}return t.na===$&&(t=2&(r=(n=t.h)[_])?t:Pt(t.constructor,_t(n,r,!0))),t}}function _t(t,e,n){const r=n||2&e?F:D,i=!!(32&e);return t=function(t,e,n){var r=(t=R(t)).length;const i=256&e?t[r-1]:void 0;for(r+=i?-1:0,e=512&e?1:0;e<r;e++)t[e]=n(t[e]);if(i){e=t[e]={};for(const t in i)e[t]=n(i[t])}return t}(t,e,(t=>Rt(t,i,r))),t[_]=32|t[_]|(n?2:0),t}function kt(t){const e=t.h,n=e[_];return 2&n?Pt(t.constructor,_t(e,n,!1)):t}var Lt=function(t,e){return t=t.h,Ft(t,t[_],e)};function Dt(t,e,n,r){if(!((e=r+(+!!(512&e)-1))<0||e>=t.length||e>=n))return t[e]}var Ft=function(t,e,n,r){if(-1===n)return null;const i=e>>15&1023||536870912;if(!(n>=i)){var a,o=t.length;return r&&256&e&&null!=(r=t[o-1][n])?(Dt(t,e,i,n)&&null!=k&&(t=null!=(a=j)?a:j={},(a=t[k]||0)>=4||(t[k]=a+1,C())),r):Dt(t,e,i,n)}return 256&e?t[t.length-1][n]:void 0},Bt=function(t,e,n){const r=t.h;let i=r[_];return Y(i),$t(r,i,e,n),t};function $t(t,e,n,r,i){const a=e>>15&1023||536870912;if(n>=a||i&&!f){let o=e;if(256&e)i=t[t.length-1];else{if(null==r)return o;i=t[a+(+!!(512&e)-1)]={},o|=256}return i[n]=r,n<a&&(t[n+(+!!(512&e)-1)]=void 0),o!==e&&(t[_]=o),o}return t[n+(+!!(512&e)-1)]=r,256&e&&n in(t=t[t.length-1])&&delete t[n],e}var zt=function(t,e,n,r){return void 0!==Yt(t,e,n=Gt(t,r)===n?n:-1)};function Wt(t){return!!(2&t)&&!!(4&t)||!!(2048&t)}function Jt(t,e,n,r){const i=t.h;let a=i[_];return Y(a),$t(i,a,e,("0"===r?0===Number(n):n===r)?void 0:n),t}var Gt=function(t,e){return Vt(Kt(t=t.h),t,t[_],e)};function Kt(t){let e;return null!=(e=t[L])?e:t[L]=new Map}function Vt(t,e,n,r){let i=t.get(r);if(null!=i)return i;i=0;for(let t=0;t<r.length;t++){const a=r[t];null!=Ft(e,n,a)&&(0!==i&&(n=$t(e,n,i)),i=a)}return t.set(r,i),i}function Yt(t,e,n,r){let i=(t=t.h)[_];const a=Ft(t,i,n,r);return(e=xt(a,e,i))!==a&&null!=e&&$t(t,i,n,e,r),e}var Ht=function(t,e,n){if(null==(e=Yt(t,e,n,!1)))return e;let r=(t=t.h)[_];if(!(2&r)){const i=kt(e);i!==e&&$t(t,r,n,e=i,!1)}return e},qt=function(t,e,n){return null==n&&(n=void 0),Bt(t,e,n)},Xt=function(t,e,n,r){null==r&&(r=void 0);t:{const o=t.h;var i=o[_];if(Y(i),null==r){var a=Kt(o);if(Vt(a,o,i,n)!==e)break t;a.set(n,0)}else{const t=Kt(a=o),r=Vt(t,a,i,n);r!==e&&(r&&(i=$t(a,i,r)),t.set(n,e))}$t(o,i,e,r)}return t};function Zt(t,e){return-2049&(2&e?2|t:-3&t)|32}function Qt(t,e,n){return 32&e&&n||(t&=-33),t}var te=function(t){return null!=(t=Lt(t,1))&&("bigint"==typeof t?nt(t)?t=Number(t):(t=BigInt.asIntN(64,t),t=nt(t)?Number(t):String(t)):t=pt(t)?"number"==typeof t?wt(t):bt(t):void 0),null!=t?t:0},ee=function(t,e){return null!=(t=null==(t=Lt(t,e))||"string"==typeof t?t:void 0)?t:""},ne=function(t,e){return null!=(t=null==(t=Lt(t,e))?t:Number.isFinite(t)?0|t:void 0)?t:0},re=function(t,e,n,r){return n=Gt(t,r)===n?n:-1,Ht(t,e,n)},ie=function(t,e,n){return Jt(t,e,St(n),"")};let ae;var oe=function(t){try{return ae=!0,JSON.stringify(ce(t),Mt)}finally{ae=!1}},se=class{constructor(t){t:{if(null==t&&(t=Nt),Nt=void 0,null==t){var e=96;t=[]}else{if(!Array.isArray(t))throw Error("narr");if(2048&(e=0|t[_]))throw Error("farr");if(64&e)break t;var n=t;e|=64;var r=n.length;if(r&&J(n[--r])){if((n=r-(+!!(512&(e|=256))-1))>=1024)throw Error("pvtlmt");e=-33521665&e|(1023&n)<<15}}t[_]=e}this.h=t}toJSON(){return ce(this)}getExtension(t){const e=t.D?t.Xa?t.L(this,t.D,t.F,void 0===H?2:4,!0):t.L(this,t.D,t.F,!0):t.Xa?t.L(this,t.F,void 0===H?2:4,!0):t.L(this,t.F,t.defaultValue,!0);return t.pb&&null==e?t.defaultValue:e}hasExtension(t){return t=t.D?void 0!==Yt(this,t.D,t.F,!0):void 0!==(null===(t=t.D?t.L(this,t.D,t.F,!0):t.L(this,t.F,null,!0))?void 0:t)}clone(){const t=this.h;return Pt(this.constructor,_t(t,t[_],!1))}};function ce(t){t=ae?t.h:Ut(t.h,Ot,void 0,void 0,!1);{var e=!ae;let l=t.length;if(l){var n=t[l-1],r=J(n);r?l--:n=void 0;var i=t;if(r){t:{var a=n,o={};if(r=!1,a)for(var s in a){if(isNaN(+s)){o[s]=a[s];continue}let t=a[s];Array.isArray(t)&&(K(t)||W(t)&&0===t.size)&&(t=null),null==t&&(r=!0),null!=t&&(o[s]=t)}if(r){for(let t in o)break t;o=null}else o=a}a=null==o?null!=n:o!==n}for(;l>0&&(null==(s=i[l-1])||K(s)||W(s)&&0===s.size);l--)var c=!0;(i!==t||a||c)&&(e?(c||a||o)&&(i.length=l):i=Array.prototype.slice.call(i,0,l),o&&i.push(o)),c=i}else c=t}return c}function le(t){return e=>{if(null==e||""==e)e=new t;else{if(e=JSON.parse(e),!Array.isArray(e))throw Error("dnarr");e[_]|=32,e=Pt(t,e)}return e}}se.prototype.na=$,se.prototype.toString=function(){try{return ae=!0,ce(this).toString()}finally{ae=!1}};var ue,he=(ue=class extends se{},t=>{if(t=JSON.parse(t),!Array.isArray(t)){var e=typeof t;throw Error("Expected jspb data to be an array, got "+("object"!=e?e:t?Array.isArray(t)?"array":e:"null")+": "+t)}return t[_]|=34,new ue(t)}),fe=class extends se{setSeconds(t){return Jt(this,1,null==t?t:vt(t),"0")}},de=class extends se{ya(){return Gt(this,ge)}},ge=[2,3],ye=class extends se{},pe=class extends Error{constructor({errorType:t,message:e,g:n}){super(`Meet Add-on SDK error: ${e}${n?` - ${n}`:""}`),this.errorType=t}},me={errorType:"InternalError",message:"An unexpected error has occurred.",g:"No further information is available."},ve={errorType:"MissingUrlParameter",message:"Missing required Meet SDK URL parameter",g:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not strip URL parameters (e.g. as part of a redirect)."},we={errorType:"NeedsMainStageContext",message:"This method can only be invoked if the addon is running in the main stage.",g:"Use getFrameType to check whether the addon is running in the main stage before invoking this method."},be={errorType:"NeedsSidePanelContext",message:"This method can only be invoked if the addon is running in the side panel.",g:"Use getFrameType to check whether the addon is running in the side panel before invoking this method."},Se={errorType:"NotSupportedInStandalone",message:"This method is not supported in standalone mode.",g:"Do not call this method in standalone mode."},xe={errorType:"InternalError",message:"The frame type URL parameter is set to an unexpected value.",g:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not modify URL parameters (e.g. as part of a redirect)."},Ae={errorType:"InvalidCloudProjectNumber",message:"Cloud Project Number provided by meet does not match the one passed in by the SDK. Ensure that the correct Cloud Project Number is passed to the SDK as a string.",g:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not modify URL parameters (e.g. as part of a redirect) and ensure that the correct Cloud Project Number was passed into the SDK as a string."},Te={errorType:"DestinationNotReady",message:"The recipient frame is not connected via the addon SDK and cannot receive the notification.",g:"Make sure the destination frame has connected before sending messages to it."},Ee={errorType:"InvalidActivityStartingState",message:"Origin of the ActivityStartingState iframeURLs does not match the origin of the URLs provided in the Add-on manifest.",g:"Ensure that the ActivityStartingState iframeURL origins match the origins of the URLs provided in the Add-on manifest."},Ie={errorType:"ActivityStartingStateMissingAttributes",message:"The supplied ActivityStartingState object does not contain any recognized attributes.",g:"Ensure that the ActivityStartingState object contains at least one of the following attributes: mainStageUrl, sidePanelUrl, additionalData."},Ne={errorType:"ActivityStartingStateUnrecognizedAttributes",message:"The supplied ActivityStartingState object contains attributes that are not recognized.",g:"Ensure that the ActivityStartingState object has only the following attributes: mainStageUrl, sidePanelUrl, additionalData."},Pe=t=>({errorType:"ArgumentNullError",message:`The argument supplied for '${t}' was 'null' but a value was expected.`,g:"Ensure you are passing a value of the expected type for the argument."}),Me=(t,e,n)=>({errorType:"ArgumentTypeError",message:`The type '${e}' of argument supplied for '${t}' did not match the expected type '${n}'.`,g:"Ensure the type of the argument provided matches the expected type."}),je={errorType:"ActivityIsOngoing",message:"Operation cannot be performed while an activity is ongoing.",g:"Ensure that no activity is ongoing."},Ce={errorType:"InternalError",message:"Frame message missing required Meet SDK command.",g:"Send one of the available commands in the frame message."},Ue={errorType:"NoActivityFound",message:"No activity found.",g:"Ensure that the activity is started before performing this operation."},Oe={errorType:"RequiresEapEnrollment",message:"This feature is only available to early access partners.",g:"Meet add-on early access enrollment is currently closed."},Re={errorType:"UserNotInitiator",message:"Operation cannot be performed because the user is not the initiator of the current activity.",g:"Ensure that the user is the initiator of the current activity or that the activity has ended."},_e={errorType:"SizeLimitExceededActivityStartingState",message:"The size of the activityStartingState URLs and/or its data exceed the limits allowed.",g:"Ensure that the activityStartingState URL size is less than 512 characters and the additional data size is less than 4096 characters."},ke={errorType:"SizeLimitExceededFrameToFrameMessage",message:"The size of the frame to frame message exceeds the limits allowed.",g:"Ensure that the frame to frame message size is less than 1,000,000 characters."},Le={errorType:"AddonSessionAlreadyCreated",message:"The addon session has already been created.",g:"Only instantiate the AddonSession once."},De={errorType:"UserCancelled",message:"The user cancelled starting an activity.",g:"The user needs to click continue to start the activity."},Fe={errorType:"NotSupportedInMeetCall",message:"This method is not supported during a Meet call.",g:"Do not call this method during a Meet call."},Be={errorType:"InvalidAddonStartingState",message:"Origin of the AddonStartingState iframeURLs does not match the origin of the URLs provided in the Add-on manifest.",g:"Ensure that the AddonStartingState iframeURL origins match the origins of the URLs provided in the Add-on manifest."},$e={errorType:"SizeLimitExceededAddonStartingState",message:"The size of the AddonStartingState URLs and/or its data exceed the limits allowed.",g:"Ensure that the AddonStartingState URL size is less than 512 characters and the additional data size is less than 4096 characters."};function ze({errorType:t,message:e,g:n},r=""){throw new pe({errorType:t,message:r?`${e} ${r}`:e,g:n})}function We(t,e){ze({...ve,message:`${ve.message}: ${t}. In URL ${e}`})}var Je=function(t){return Jt(new Ge,1,mt(t),0)},Ge=class extends se{getFrameType(){return ne(this,1)}},Ke=function(t){var e=t.h,n=e[_],r=!(2&n),i=Ge,a=void 0===H?2:5;a=(n=!!(2&(t=n)))?1:a,r&&(r=!n),n=Ft(e,t,1);var o=0|(n=Array.isArray(n)?n:B)[_],s=!!(4&o);if(!s){var c=o;0===c&&(c=Zt(c,t)),o=n;var l=t;const e=!!(2&(c|=1));e&&(l|=2);let r=!e,a=!0,s=0,u=0;for(;s<o.length;s++){const t=xt(o[s],i,l);if(t instanceof i){if(!e){const e=!!(2&t.h[_]);r&&(r=!e),a&&(a=e)}o[u++]=t}}u<s&&(o.length=u),c|=4,c=a?16|c:-17&c,c=r?8|c:-9&c,o[_]=c,e&&Object.freeze(o),o=c}if(r&&!(8&o||!n.length&&(1===a||4===a&&32&o))){for(Wt(o)&&(n=R(n),o=Zt(o,t),t=$t(e,t,1,n)),r=n,i=o,o=0;o<r.length;o++)(c=r[o])!==(l=kt(c))&&(r[o]=l);i|=8,i=r.length?-17&i:16|i,o=r[_]=i}let u;return 1===a||4===a&&32&o?Wt(o)||(t=o,e=!!(32&o),(o|=!n.length||16&o&&(!s||e)?2:2048)!==t&&(n[_]=o),Object.freeze(n)):(s=5===a&&(!!(32&o)||Wt(o)||!!Et(n)),(2===a||s)&&Wt(o)&&(n=R(n),o=Qt(o=Zt(o,t),t,!1),n[_]=o,t=$t(e,t,1,n)),Wt(o)||(e=o,(o=Qt(o,t,!1))!==e&&(n[_]=o)),s&&(u=function(t){var e=Et(t);if(e)return e;if(Math.random()>.01)return t;if(void 0===It)if("function"!=typeof Proxy)It=null;else try{It=-1!==Proxy.toString().indexOf("[native code]")?Proxy:null}catch{It=null}return(e=It)?("undefined"!=typeof Symbol&&Symbol.isConcatSpreadable&&(t[Symbol.isConcatSpreadable]=!0),function(t,e){(At||(At=new WeakMap)).set(t,e),(Tt||(Tt=new WeakMap)).set(e,t)}(t,e=new e(t,{set:(t,e,n)=>(C(),t[e]=n,!0)})),e):t}(n))),u||n},Ve=function(t){{var e=new Ye;const u=e.h;let h=u[_];if(Y(h),null==t)$t(u,h,1);else{var n,r=t;t=(null==(n=Tt)?void 0:n.get(r))||r,r=n=0|t[_];var i,a=!!(2&n)||!!(2048&n),o=a||Object.isFrozen(t);(i=!o)&&(i=void 0===q||!1);var s=!0,c=!0;for(let e=0;e<t.length;e++){var l=t[e];a||(l=!!(2&l.h[_]),s&&(s=!l),c&&(c=l))}a||(n|=5,n=s?8|n:-9&n,n=c?16|n:-17&n),(i||o&&n!==r)&&(t=R(t),r=0,n=Qt(n=Zt(n,h),h,!0)),n!==r&&(t[_]=n),$t(u,h,1,t)}}return e},Ye=class extends se{},He=class extends se{constructor(){super()}},qe=function(t){return Jt(new Xe,1,mt(t),0)},Xe=class extends se{constructor(){super()}},Ze=class extends se{Ja(t){return ie(this,2,t)}},Qe=class extends se{},tn=class extends se{R(){return Gt(this,en)}ja(){return re(this,Ye,2,en)}Y(t){return Xt(this,2,en,t)}getMeetingInfo(){return re(this,Qe,3,en)}},en=[2,3,4,5],nn=class extends se{za(){return Gt(this,rn)}},rn=[1,4,5,6,7,8,9,10,11,12,13,14,15,16,17],an=class extends se{constructor(){super()}ja(){return Ht(this,Ye,1)}Y(t){return qt(this,1,t)}},on=class extends se{constructor(){super()}ja(){return Ht(this,Ye,1)}Y(t){return qt(this,1,t)}},sn=new Map([[2,"MAIN_STAGE"],[1,"SIDE_PANEL"]]),cn=new Map([[0,"UNKNOWN"],[1,"OPEN_ADDON"],[2,"START_ACTIVITY"],[3,"JOIN_ACTIVITY"]]);function ln(t){t&&"function"==typeof t.dispose&&t.dispose()}var un=function(){this.o=this.o,this.A=this.A};un.prototype.o=!1,un.prototype.dispose=function(){this.o||(this.o=!0,this.ea())},un.prototype[Symbol.dispose]=function(){this.dispose()};var hn=function(t,e){t.o?e():(t.A||(t.A=[]),t.A.push(e))};un.prototype.ea=function(){if(this.A)for(;this.A.length;)this.A.shift()()};var fn=function({ra:t,Fa:e}){if(null===t)throw new pe(Pe("activityStartingState"));if(e||void 0!==t){if("object"!=typeof t)throw new pe(Me("activityStartingState",typeof t,"object"+(e?"":" | undefined")));if(void 0!==t.mainStageUrl&&"string"!=typeof t.mainStageUrl)throw new pe(Me("mainStageUrl",typeof t.mainStageUrl,"string | undefined"));if(void 0!==t.sidePanelUrl&&"string"!=typeof t.sidePanelUrl)throw new pe(Me("sidePanelUrl",typeof t.sidePanelUrl,"string | undefined"));if(void 0!==t.additionalData&&"string"!=typeof t.additionalData)throw new pe(Me("additionalData",typeof t.additionalData,"string | undefined"));if(Object.keys(t).length!==+!!t.mainStageUrl+ +!!t.sidePanelUrl+ +!!t.additionalData)throw new pe(Ne);if(0===Object.keys(t).length)throw new pe(Ie)}},dn=function(t){const e=[];var n=e.push,r=Je(2);return r=ie(r,2,t.mainStageUrl),r=ie(r,3,t.additionalData),n.call(e,r),n=e.push,r=Je(1),r=ie(r,2,t.sidePanelUrl),t=ie(r,3,t.additionalData),n.call(e,t),e},gn=class extends un{constructor(t){super(),this.context=t,this.Da={},mr(this.context.i.fb,(t=>{switch(t.content.za()){case 7:const n=this.Da.frameToFrameMessage;if(t=re(t.content,Ze,7,rn),n&&t){var e=ne(t,1);if(void 0===(e=sn.get(e)))throw Error("Unknown frame type.");n({originator:e,payload:ee(t,2)})}break;case 16:kr(this.context.i)}}))}async getMeetingInfo(){const t=await Lr(this.context.i,qe(2));return{meetingId:ee(t.getMeetingInfo(),1)}}async getFrameOpenReason(){let t;const e=null!=(t=this.context.ca.Ua)?t:0;let n;return null!=(n=cn.get(e))?n:"UNKNOWN"}async getActivityStartingState(){var t=(await Lr(this.context.i,qe(1))).ja();const e=null==t?void 0:Ke(t).find((t=>2===t.getFrameType()));return t=null==t?void 0:Ke(t).find((t=>1===t.getFrameType())),{mainStageUrl:(null==e?void 0:ee(e,2))||void 0,sidePanelUrl:(null==t?void 0:ee(t,2))||void 0,additionalData:(null==t?void 0:ee(t,3))||void 0}}async setActivityStartingState(t){fn({ra:t,Fa:!0}),t=dn(t),await Dr(this.context.i,(new an).Y(Ve(t)))}on(t,e){this.Da[t]=e}async closeAddon(){await Fr(this.context.i)}async startActivity(t){fn({ra:t,Fa:!1});const e=new on;t&&(t=dn(t),e.Y(Ve(t))),await Br(this.context.i,e)}async endActivity(t){var e=$r,n=this.context.i;t=Jt(new He,1,mt("aab61ee0-51b4-475d-aa4d-849f2498640d"===t?999:0),0),await e(n,t)}},yn=le(class extends se{getFrameOpenReason(){return ne(this,5)}});function pn(){var t=window.location.href,e=window.location.href,n=new URL(e).searchParams.get("meet_sdk");if(n?e=yn(atob(n)):(We("meet_sdk",e),e=void 0),(n=ee(e,1))||We("meet_addon_frame_type",t),2!==(n=Number(n))&&1!==n)throw new pe(xe);const r=ee(e,2);r||We("meet_control_channel_name",t);const i=ee(e,4);var a;return i||We("addon_cloud_project_number",t),{Ua:t=null!=(a=e.getFrameOpenReason())?a:0,frameType:n,Qa:r,cloudProjectNumber:i,Ga:a=ee(e,3)||"https://meet.google.com"}}var mn=class extends se{constructor(){super()}},vn=class extends se{constructor(){super()}},wn=class extends se{constructor(){super()}ya(){return Gt(this,bn)}},bn=[1,2],Sn=class extends se{constructor(){super()}},xn=class extends se{constructor(){super()}},An=class extends se{constructor(){super()}Ja(t){return ie(this,2,t)}},Tn=class extends se{constructor(){super()}},En=class extends se{constructor(){super()}},In=class extends se{constructor(){super()}za(){return Gt(this,Nn)}},Nn=[1,2,5,6,7,8,9,10,11,13,14,15,16],Pn=class extends se{},Mn=le(Pn),jn=[1,2];class Cn{constructor(t,e){this.data=t,this.channel=e}}var Un=Promise,On=function(t){const e=new MessageChannel;return kn(e.port1,t),e},Rn=function(t,e){return kn(t,e),new _n(t)};class _n{constructor(t){this.hb=t}send(t,e,n=[]){e=On(e),this.hb.postMessage(t,[e.port2].concat(n))}N(t,e){return new Un((n=>{this.send(t,n,e)}))}}const kn=function(t,e){e&&(t.onmessage=t=>{var n=t.data;t=Rn(t.ports[0]),e(new Cn(n,t))})};class Ln{constructor(t,e){this.Za=100,this.Ra=t,this.kb=e,this.V=0,this.U=null}get(){let t;return this.V>0?(this.V--,t=this.U,this.U=t.next,t.next=null):t=this.Ra(),t}put(t){this.kb(t),this.V<this.Za&&(this.V++,t.next=this.U,this.U=t)}}var Dn,Fn=function(){},Bn=new Ln((()=>new $n),(t=>t.reset()));class $n{constructor(){this.next=this.scope=this.ga=null}set(t,e){this.ga=t,this.scope=e,this.next=null}reset(){this.next=this.scope=this.ga=null}}let zn,Wn=!1,Jn=new class{constructor(){this.aa=this.J=null}add(t,e){const n=Bn.get();n.set(t,e),this.aa?this.aa.next=n:this.J=n,this.aa=n}remove(){let t=null;return this.J&&(t=this.J,this.J=this.J.next,this.J||(this.aa=null),t.next=null),t}},Gn=(t,e)=>{zn||Kn(),Wn||(zn(),Wn=!0),Jn.add(t,e)},Kn=()=>{if(r.Promise&&r.Promise.resolve){const t=r.Promise.resolve(void 0);zn=()=>{t.then(Vn)}}else zn=()=>{var t=Vn;"function"!=typeof r.setImmediate||r.Window&&r.Window.prototype&&r.Window.prototype.setImmediate==r.setImmediate?(Dn||(Dn=function(){var t=r.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(t=function(){var t=function(){var t=document,e="IFRAME";return"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}();t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=o((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).ua;n.ua=null,t()}},function(t){i.next={ua:t},i=i.next,e.port2.postMessage(0)}}return function(t){r.setTimeout(t,0)}}()),Dn(t)):r.setImmediate(t)}};var Vn=()=>{let t;for(;t=Jn.remove();){try{t.ga.call(t.scope)}catch(t){l(t)}Bn.put(t)}Wn=!1},Yn=function(t){if(this.l=0,this.Ha=void 0,this.C=this.u=this.B=null,this.S=this.fa=!1,t!=Fn)try{var e=this;t.call(void 0,(function(t){nr(e,2,t)}),(function(t){nr(e,3,t)}))}catch(t){nr(this,3,t)}},Hn=function(){this.next=this.context=this.H=this.M=this.v=null,this.K=!1};Hn.prototype.reset=function(){this.context=this.H=this.M=this.v=null,this.K=!1};var qn=new Ln((function(){return new Hn}),(function(t){t.reset()})),Xn=function(t,e,n){var r=qn.get();return r.M=t,r.H=e,r.context=n,r};Yn.prototype.then=function(t,e,n){return er(this,"function"==typeof t?t:null,"function"==typeof e?e:null,n)},Yn.prototype.$goog_Thenable=!0;var Zn=function(t,e){(e=Xn(e,e)).K=!0,tr(t,e)};Yn.prototype.lb=function(t,e){return er(this,null,t,e)},Yn.prototype.catch=Yn.prototype.lb,Yn.prototype.cancel=function(t){if(0==this.l){var e=new ur(t);Gn((function(){Qn(this,e)}),this)}};var Qn=function(t,e){if(0==t.l)if(t.B){var n=t.B;if(n.u){for(var r=0,i=null,a=null,o=n.u;o&&(o.K||(r++,o.v==t&&(i=o),!(i&&r>1)));o=o.next)i||(a=o);i&&(0==n.l&&1==r?Qn(n,e):(a?((r=a).next==n.C&&(n.C=r),r.next=r.next.next):ar(n),or(n,i,3,e)))}t.B=null}else nr(t,3,e)},tr=function(t,e){t.u||2!=t.l&&3!=t.l||ir(t),t.C?t.C.next=e:t.u=e,t.C=e},er=function(t,e,n,r){var i=Xn(null,null,null);return i.v=new Yn((function(t,a){i.M=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){a(t)}}:t,i.H=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof ur?a(e):t(i)}catch(t){a(t)}}:a})),i.v.B=t,tr(t,i),i.v};Yn.prototype.mb=function(t){this.l=0,nr(this,2,t)},Yn.prototype.nb=function(t){this.l=0,nr(this,3,t)};var nr=function(t,e,n){if(0==t.l){t===n&&(e=3,n=new TypeError("Promise cannot resolve to itself")),t.l=1;t:{var r=n,i=t.mb,a=t.nb;if(r instanceof Yn){tr(r,Xn(i||Fn,a||null,t));var o=!0}else{if(r)try{var s=!!r.$goog_Thenable}catch(t){s=!1}else s=!1;if(s)r.then(i,a,t),o=!0;else{if("object"==(s=typeof r)&&null!=r||"function"==s)try{var c=r.then;if("function"==typeof c){rr(r,c,i,a,t),o=!0;break t}}catch(e){a.call(t,e),o=!0;break t}o=!1}}}o||(t.Ha=n,t.l=e,t.B=null,ir(t),3!=e||n instanceof ur||cr(t,n))}},rr=function(t,e,n,r,i){var a=!1,o=function(t){a||(a=!0,r.call(i,t))};try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}},ir=function(t){t.fa||(t.fa=!0,Gn(t.Ta,t))},ar=function(t){var e=null;return t.u&&(e=t.u,t.u=e.next,e.next=null),t.u||(t.C=null),e};Yn.prototype.Ta=function(){for(var t;t=ar(this);)or(this,t,this.l,this.Ha);this.fa=!1};var or=function(t,e,n,r){if(3==n&&e.H&&!e.K)for(;t&&t.S;t=t.B)t.S=!1;if(e.v)e.v.B=null,sr(e,n,r);else try{e.K?e.M.call(e.context):sr(e,n,r)}catch(t){lr.call(null,t)}qn.put(e)},sr=function(t,e,n){2==e?t.M.call(t.context,n):t.H&&t.H.call(t.context,n)},cr=function(t,e){t.S=!0,Gn((function(){t.S&&lr.call(null,e)}))},lr=l,ur=function(t){c.call(this,t)};s(ur,c),ur.prototype.name="cancel";var hr=function(t,e,n){this.promise=t,this.resolve=e,this.reject=n};let fr=1,dr=new WeakMap;var gr=function(t,e,n){var r=pr;t.Ma.has(e),r(e,n)},yr=class extends un{constructor(){super(),this.Ma=new Set}signal(){const t=new wr;return this.Ma.add(t),hn(this,function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}(ln,t)),t}},pr=function(t,e){return new Promise((n=>{xr((()=>{t.ta&&(t.Ya=e,t.Ca=!0);for(const{qa:n,slot:r}of t.j.values())try{r(e,{signal:t,qa:n})}catch(t){l(t)}for(const n of t.I)n.resolve(e);t.I.clear(),n()}))}))},mr=function(t,e,n){const r=fr++;return xr((()=>{vr(t,r,e,n)})),r},vr=function(t,e,n,r){if(!t.o)if(r){if(!r.o){const i=()=>{xr((()=>{t.j.delete(e);const n=dr.get(r);n&&v(n,i)}))};t.j.set(e,{qa:e,slot:n,da:i}),Tr(r,i)}}else t.j.set(e,{qa:e,slot:n,da:()=>t.j.delete(e)})},wr=class extends un{constructor(){super(),this.ta=!1,this.j=new Map,this.I=new Set,this.Ca=!1}detach(t){xr((()=>{const e=this.j.get(t);e&&e.da()}))}value(t){return this.promise(!0,t)}next(t){return this.promise(!1,t)}promise(t,e){const n=function(){var t,e,n=new Yn((function(n,r){t=n,e=r}));return new hr(n,t,e)}();return xr((()=>{if(this.o)n.reject(new ur("Signal initially disposed"));else if(e&&e.o)n.reject(new ur("Owner initially disposed"));else if(t&&this.ta&&this.Ca)n.resolve(this.Ya);else if(this.I.add(n),Zn(n.promise,(()=>{this.I.delete(n)})),e){const t=()=>{n.reject(new ur("Owner asynchronously disposed"))};Zn(n.promise,(()=>{const n=dr.get(e);n&&v(n,t)})),Tr(e,t)}})),n.promise}ea(){super.ea(),xr((()=>{for(const{da:t}of this.j.values())t();this.j.clear();for(const t of this.I)t.reject(new ur("Signal asynchronously disposed"));this.I.clear()}))}};const br=[];let Sr=!1;function xr(t){br.push(t),async function(){if(!Sr)try{Sr=!0;let t=Ar(0);for(;t<br.length;)await Promise.resolve(),t=Ar(t)}catch(t){l(t)}finally{br.length=0,Sr=!1}}()}function Ar(t){const e=t+100;for(;t<e&&t<br.length;)try{br[t++]()}catch(t){l(t)}return t}function Tr(t,e){if(t.o)e();else{var n=dr.get(t);if(n)n.push(e);else{const n=[e];dr.set(t,n),hn(t,(()=>{for(const t of[...n])t();dr.delete(t)}))}}}function Er(t){var e=new Pn;return t=Xt(e,1,jn,t),{content:oe(t)}}const Ir=new yr;function Nr(t,e){const n=Ir.signal();return{channel:Rn(t,(t=>{const r=e(t.data);gr(Ir,n,{content:r,jb:t})})),signal:n}}let Pr;var Mr=class extends se{getState(){const t=this.h;let e=t[_];const n=Ft(t,e,1),r=G(n,!0,!!(34&e));return null!=r&&r!==n&&$t(t,e,1,r),null==r?N():r}},jr=class extends se{},Cr=class extends se{ha(){return re(this,Mr,2,Ur)}W(t){Xt(this,2,Ur,t)}T(){return zt(this,Mr,2,Ur)}ia(){return re(this,jr,3,Ur)}X(t){Xt(this,3,Ur,t)}ka(){return zt(this,jr,3,Ur)}},Ur=[2,3],Or=le(class extends se{}),Rr=le(class extends se{R(){return Gt(this,_r)}}),_r=[1,2];var kr=async function(t){var e=(t=t.channel).N,n=new In,r=new Tn;n=Xt(n,13,Nn,r),await e.call(t,Er(n))},Lr=async function(t,e){var n=zr,r=new In;let i;return e=Xt(r,9,Nn,e),t=await n(t,Er(e)),null==(i=re(Mn(t.data.content),nn,2,jn))?void 0:re(i,tn,9,rn)},Dr=async function(t,e){var n=zr,r=new In;e=Xt(r,8,Nn,e),await n(t,Er(e))},Fr=async function(t){var e=zr,n=new In,r=new mn;n=Xt(n,11,Nn,r),await e(t,Er(n))},Br=async function(t,e){var n=zr,r=new In;e=Xt(r,14,Nn,e),await n(t,Er(e))},$r=async function(t,e){var n=zr,r=new In;e=Xt(r,15,Nn,e),await n(t,Er(e))},zr=async function(t,e){let n;(t=await t.channel.N(e))||ze(me,`Falsy response received from the message channel. ${JSON.stringify(t)}`),(e=t.data)||ze(me,`Data field in the response from the message channel is falsy. ${JSON.stringify(e)}`),(e=e.content)||ze(me,`Content field in the response from the message channel is falsy. ${JSON.stringify(e)}`);try{n=Mn(e)}catch(t){ze(me,`The ControlMessage can't be deserialized. ${JSON.stringify(e)}. ${JSON.stringify(t)}`)}if((e=re(n,nn,2,jn))||ze(me,`MeetToAddonMessage field on ControlMessage is falsy. ${JSON.stringify(e)}`),void 0!==(null==(e=null==e?void 0:re(e,ye,10,rn))?void 0:ne(e,1)))throw new pe(function(t){switch(t){case 0:default:return me;case 1:return Te;case 2:return Ee;case 3:return je;case 4:return Ce;case 5:return Oe;case 6:return Se;case 7:return Re;case 8:return _e;case 9:return ke;case 10:return De;case 11:return Fe;case 12:return Be;case 13:return $e;case 14:return Ue}}(ne(e,1)));return t},Wr=async function(t){const e=function(){var t=new wn,e=new vn;return Xt(t,1,bn,e)}(),{channel:n,response:r}=await async function(t,e){var n,r=zr,i=new In;return e=Xt(i,1,Nn,e),t=(r=await r(t,Er(e))).data.messagePort,n=null!=(r=null==(n=re(Mn(r.data.content),nn,2,jn))?void 0:re(n,de,1,rn))?r:Jt(n=new de,1,mt(0),0),{channel:t?Nr(t,(t=>Rr(t))):void 0,response:n}}(t,e);if(!n)throw new pe(function(t){let e;var n=null!=(e=ne(t,1))?e:0;switch(t=function(t){switch(t){case 2:return"co";case 3:return"gd";default:return"unknown"}}(t.ya()),n){case 1:return{errorType:"InternalError",message:`Could not connect to ${t} channel. Meet did not respond with a MessagePort.`,g:"No further information is available."};case 2:return{errorType:"InternalError",message:`Could not connect to ${t}. A conflicting ${t} exists.`,g:"No further information is available."};case 3:return{errorType:"InternalError",message:`Could not connect to ${t} channel. The addon does not have permission to open a ${t}.`,g:"This method might require EAP enrollment."};case 4:return{errorType:"InternalError",message:`Could not connect to ${t} channel. The addon is not authorized for this ${t}.`,g:"No further information is available."};case 0:default:return(t=>({errorType:"InternalError",message:`Could not connect to ${t} channel. Unknown error`,g:"No further information is available."}))(t);case 5:return"co"===t?{errorType:"InternalError",message:`Could not connect to ${t} channel. The coActivity was not found.`,g:`Consider starting the ${t} only after after the startActivity promise returns.`}:{errorType:"InternalError",message:`Could not connect to ${t} channel.`,g:"No further information is available."}}}(r));return n},Jr=async function(t,e,n){var r=zr,i=new In;e=Jt(new An,1,mt(e),0).Ja(n),i=Xt(i,7,Nn,e),await r(t,Er(i))};class Gr extends un{constructor(t,e,n){super(),this.fb=t,this.channel=e,t=kt(t=Pr||(Pr=he("[1,0,0]")));var r=(e=(t=Bt(t,4,St("dev-672559989"))).h)[_];e=2&r?t:Pt(t.constructor,_t(e,r,!0)),t=new In,r=new Sn,e=qt(r,2,e),n=ie(e,3,n),n=Xt(t,2,Nn,n),this.channel.send(Er(n)),async function(t){setInterval((async()=>{await kr(t)}),1e3)}(this)}}let Kr;var Vr=class{constructor(t){var e=Kr;this.ca=t,this.i=e}delete(){throw Error("Not implemented.")}},Yr=class extends se{constructor(){super()}pa(t){return Jt(this,1,null==t?t:vt(t),"0")}ha(){return re(this,Mr,2,Hr)}W(t){Xt(this,2,Hr,t)}T(){return zt(this,Mr,2,Hr)}ia(){return re(this,jr,3,Hr)}X(t){Xt(this,3,Hr,t)}ka(){return zt(this,jr,3,Hr)}},Hr=[2,3],qr=class extends se{constructor(){super()}},Xr=class extends se{constructor(){super()}},Zr=class extends se{constructor(){super()}oa(t){return Bt(this,4,St(t))}},Qr=class extends se{constructor(){super()}pa(t){return Jt(this,1,null==t?t:vt(t),"0")}ha(){return re(this,Mr,2,ti)}W(t){Xt(this,2,ti,t)}T(){return zt(this,Mr,2,ti)}ia(){return re(this,jr,3,ti)}X(t){Xt(this,3,ti,t)}ka(){return zt(this,jr,3,ti)}},ti=[2,3],ei=[5,6],ni=class extends se{constructor(){super()}oa(t){return ie(this,1,t)}},ri=class extends se{constructor(){super()}R(){return Gt(this,ii)}},ii=[1,2,3],ai=class{constructor(){this.ab=1,this.wa=500,this.la=[],this.index=0}},oi=class extends Error{constructor(){super("Failed to create CoActivity: Connection refused - Meet refused to begin Live Sharing")}},si=class{constructor(t){this.config=t}start(){return null!=this.Ea||(this.Ea=setInterval((()=>{this.config.eb()}),this.config.Wa)),this}shutdown(){clearInterval(this.Ea)}};function ci(){const t=new Map,e={set:(n,r)=>(t.set(n,r),e),ba:()=>t};return e}function li(t){if(t.T()){var e=t.ha().getState();t=Uint8Array,I(T);var n=e.Z;if(null!=n&&!A(n))if("string"==typeof n){b.test(n)&&(n=n.replace(b,x)),n=atob(n);const t=new Uint8Array(n.length);for(let e=0;e<n.length;e++)t[e]=n.charCodeAt(e);n=t}else n=null;return{bytes:new t((e=null==n?n:e.Z=n)||0)}}}function ui(t,e){return t.W(fi(e)),t}function hi(t,e){return t.W(fi(e)),t}function fi(t){return Jt(new Mr,1,G(t.bytes,!1,!1),N())}function di(t){if(t.ka()){t=t.ia();var e,n,r=ee(t,1),i=null!=(n=null==(e=Ht(t,fe,2))?void 0:te(e))?n:0;let a=(n=t.h)[_];const o=Ft(n,a,4);return null!=(e=null==o||"number"==typeof o?o:"NaN"===o||"Infinity"===o||"-Infinity"===o?Number(o):void 0)&&e!==o&&$t(n,a,4,e),{mediaId:r,mediaPlayoutPosition:i,mediaPlayoutRate:null!=e?e:0,playbackState:pi.get(ne(t,3))}}}function gi(t,e){return t.X(vi(e)),t}function yi(t,e){return t.X(vi(e)),t}const pi=ci().set(0,"INVALID").set(1,"BUFFERING").set(2,"PLAY").set(3,"PAUSE").set(4,"ENDED").ba(),mi=ci().set("INVALID",0).set("BUFFERING",1).set("PLAY",2).set("PAUSE",3).set("ENDED",4).ba();function vi(t){var e=new jr;e=ie(e,1,t.mediaId);var n=t.mediaPlayoutRate;if(null!=n&&"number"!=typeof n)throw Error(`Value of float/double field must be a number, found ${typeof n}: ${n}`);return e=Jt(e,4,n,0),n=(new fe).setSeconds(t.mediaPlayoutPosition),Jt(e=qt(e,2,n),3,mt(t=mi.get(t.playbackState)),0)}function wi(t,e){return e=Jt(new Xr,1,mt(e.G),0),Xt(t,6,ei,e),t}function bi(t){var e=new qr;return Xt(t,5,ei,e),t}const Si=ci().set("co-doing",1).set("co-watching",2).ba();async function xi(t,e,n){var r=e.N,i=new ri,a=(new ni).oa(t.activityTitle);let o;if(a=Jt(a,2,mt(Si.get(t.sa)),0),i=Xt(i,3,ii,a),r=await r.call(e,i,Or),null!=(o=null!=(i=null==(i=Lt(r,1))||"boolean"==typeof i?i:"number"==typeof i?!!i:void 0)&&i)&&o)return new Ei(t,e,n,Ht(r,Cr,2));throw new oi}var Ai=function(t,e){const n=t.config.Aa(e);n&&!t.config.xa(t.s,n)&&(t.s=n,t.ma=te(e),t.Sa(t.s))},Ti=function(t,e){const{state:n,bb:r,context:i}=e(t.s);t.s=n,t.notify(t.s,i,r)};class Ei{constructor(t,e,n,r){this.va=t,this.P=e,this.config=n,this.Sa=function(t){var e=new ai;let n,r=0;return(...i)=>{if(function(t){const e=t.wa;let n;return Date.now()-(null!=(n=t.la[t.index])?n:0)>=e}(e)){!function(t){t.la[t.index]=Date.now(),t.index=(t.index+1)%t.ab}(e);var a=!0}else a=!1;a?t(...i):(n=()=>{t(...i)},r||(r=setTimeout((()=>{let t;r=0,null==(t=n)||t()}),function(t){const e=t.wa;let n;return(t=Date.now()-(null!=(n=t.la[t.index])?n:0))>=e?0:e-t}(e))))}}((t=>{this.va.Ba(t)})),ji(this.P,(t=>{const e=t.R();switch(e){case 1:Ai(this,re(t,Cr,1,_r));break;case 2:case 0:console.warn(`IllegalMessage: ${e} - Unhandled message - Please raise a bug with the MeetJS team`)}})),this.Va=new si({Wa:1e3,eb:()=>{var t,e;const n=null==(e=(t=this.va).ib)?void 0:e.call(t);null!==this.s&&(this.s={...this.s,...n},t=new ri,e=this.config.Ka((new Yr).pa(this.ma),this.s),t=Xt(t,1,ii,e),this.P.send(t))}}).start(),this.s=null,this.ma=0,r&&Ai(this,r)}disconnect(){this.P.shutdown(),this.Va.shutdown()}notify(t,e,n){var r=n?function({activityTitle:t}){return(new Zr).oa(t)}(n):void 0,i=(n=this.config).La,a=(new Qr).pa(this.ma);r=qt(a,4,r),t=i.call(n,r,t),t=this.config.Ia(t,e),n=(e=this.P).send,i=new ri,t=Xt(i,2,ii,t),n.call(e,t)}}var Ii=class{constructor(t){this.m=t}broadcastStateUpdate(t){Ti(this.m,(()=>({state:t,context:{}})))}disconnect(){this.m.disconnect()}};function Ni(t,e){return null!=t&&null!=e&&t.bytes.length===e.bytes.length&&t.bytes.every(((t,n)=>t===e.bytes[n]))}var Pi=class{constructor(t){this.m=t}notifySwitchedToMedia(t,e,n){Ti(this.m,(()=>({state:{mediaId:e,mediaPlayoutRate:1,mediaPlayoutPosition:n,playbackState:"PLAY"},bb:{activityTitle:t},context:{G:1}})))}notifyPauseState(t,e){Ti(this.m,(n=>{if(null==n)throw Error("Invalid before coWatchingState");return{state:{...n,playbackState:t?"PAUSE":"PLAY",mediaPlayoutPosition:e},context:{G:3}}}))}notifySeekToTimestamp(t){Ti(this.m,(e=>{if(null==e)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutPosition:t},context:{G:2}}}))}notifyPlayoutRate(t){Ti(this.m,(e=>{if(null==e)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutRate:t},context:{G:4}}}))}notifyBuffering(t){Ti(this.m,(e=>{if(null==e)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutPosition:t,playbackState:"BUFFERING"},context:{G:3}}}))}notifyReady(t){Ti(this.m,(e=>{if(null==e)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutPosition:t},context:{G:3}}}))}disconnect(){this.m.disconnect()}};function Mi(t,e){if(null==t||null==e)return!1;const n="PLAY"===t.playbackState?3*Math.max(t.mediaPlayoutRate,1):0,r=Math.abs(t.mediaPlayoutPosition-e.mediaPlayoutPosition);return t.mediaId===e.mediaId&&t.mediaPlayoutRate===e.mediaPlayoutRate&&r<=n&&t.playbackState===e.playbackState}var ji=function(t,e){const n=mr(t.signal,(t=>{e(t)}));t.j.push(n)},Ci=class{constructor(t,e){this.channel=t,this.signal=e,this.j=[]}send(t){this.channel.send(oe(t))}async N(t,e){return e((t=await this.channel.N(oe(t))).data)}shutdown(){this.j.forEach((t=>{this.signal.detach(t)}))}};async function Ui(t){const e=new yr,n=e.signal();!function(t,e,n,r=t=>t){mr(n,(n=>{gr(t,e,r(n))}),t)}(e,n,(t=await t).signal,(t=>t.content));const{gb:r,cb:i}=function(t,e){var n=Oi;const r=t.signal(),i=t.signal();return mr(e,(e=>{const a=n(e)?r:i;gr(t,a,e)}),t),{gb:r,cb:i}}(e,n);return{Oa:new Ci(t.channel,r),Pa:new Ci(t.channel,i)}}function Oi(t){if(1!==t.R())throw Error("CA Message arrived with no known content message set");return(t=re(t,Cr,1,_r)).T()}var Ri=class extends gn{async notifySidePanel(t){await Jr(this.context.i,1,t)}async unloadSidePanel(){await async function(t){var e=zr,n=new In,r=new En;n=Xt(n,5,Nn,r),await e(t,Er(n))}(this.context.i)}async loadSidePanel(){await async function(t){var e=zr,n=new In,r=new xn;n=Xt(n,6,Nn,r),await e(t,Er(n))}(this.context.i)}},_i=class extends gn{async notifyMainStage(t){await Jr(this.context.i,2,t)}},ki=class{constructor(t){t=t.cloudProjectNumber;const e=pn();if(e.cloudProjectNumber!==t)throw new pe(Ae);const n=e.Ga,r=e.Qa;let i;Kr=null!=(i=Kr)?i:function(t,e,n){const r=new yr,i=r.signal();return t=(({destination:t,origin:e,tb:n,Na:r="ZNWN1d",onMessage:i})=>{if("*"===e)throw Error("Sending to wildcard origin not allowed.");const a=On(i);return t.postMessage(n?{n:r,t:n}:r,e,[a.port2]),Rn(a.port1,i)})({destination:window.parent,origin:e,Na:t,onMessage:t=>{const e=Mn(t.data.content);2===Gt(e,jn)&&gr(r,i,{content:re(e,nn,2,jn),jb:t,messagePort:t.data.messagePort})}}),new Gr(i,t,n)}(r,n,t),this.O=new Vr(e)}async createMainStageClient(){var t=this.O;if(2!==t.ca.frameType)throw new pe(we);return await Promise.resolve(new Ri(t))}async createSidePanelClient(){var t=this.O;if(1!==t.ca.frameType)throw new pe(be);return await Promise.resolve(new _i(t))}async createCoWatchingClient(t){return await async function(t,e){if(({Pa:t}=await Ui(Wr(t.i))),e=await async function(t,e){if(e)return t=await xi({activityTitle:e.activityTitle,sa:"co-watching",ib:()=>e.onCoWatchingStateQuery(),Ba:t=>{e.onCoWatchingStateChanged(t)}},t,{La:gi,Ka:yi,Ia:wi,Aa:di,xa:Mi}),new Pi(t)}(t,e),!e)throw Error("Failed to create co-watching session");return e}(this.O,t)}async createCoDoingClient(t){return await async function(t,e){if(({Oa:t}=await Ui(Wr(t.i))),e=await async function(t,e){if(e)return t=await xi({activityTitle:e.activityTitle,sa:"co-doing",Ba:t=>{e.onCoDoingStateChanged(t)}},t,{La:ui,Ka:hi,Ia:bi,Aa:li,xa:Ni}),new Ii(t)}(t,e),!e)throw Error("Failed to create co-doing session");return e}(this.O,t)}};let Li=null;var Di,Fi={addon:{getFrameType:function(){t:{var t=pn().frameType;switch(t){case 2:t="MAIN_STAGE";break t;case 1:t="SIDE_PANEL";break t;default:throw Error(`Unknown frame type: ${t}`)}}return t},createAddonSession:async function(t){if(null===t)throw new pe(Pe("config"));if("object"!=typeof t)throw new pe(Me("config",typeof t,"object"));if("string"!=typeof t.cloudProjectNumber)throw new pe(Me("cloudProjectNumber",typeof t.cloudProjectNumber,"string"));if(Li&&"integration.test.google.com"!==pn().Ga)throw new pe(Le);return Li=new ki(t)}}},Bi=["meet"],$i=r;Bi[0]in $i||void 0===$i.execScript||$i.execScript("var "+Bi[0]);for(;Bi.length&&(Di=Bi.shift());)Bi.length||void 0===Fi?$i=$i[Di]&&$i[Di]!==Object.prototype[Di]?$i[Di]:$i[Di]={}:$i[Di]=Fi}).call(this)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{initializeMainStage:()=>a,setUpAddon:()=>i});var t=n(699);const e="486310787385";async function i(){const n=await t.meet.addon.createAddonSession({cloudProjectNumber:e});await n.createSidePanelClient(),document.getElementById("roll-button").addEventListener("click",(async()=>{let t=function(){var t;document.getElementById("roll-input").value.formInput.diceNotation;try{t=function(){const t=roll.match(/(\d+)d(\d+)([+-])?(\d+)?/);if(!t)throw new Error("Invalid dice notation eg. 3d6+1");const e=parseInt(t[1],10),n=parseInt(t[2],10),r=t[3]||"+";let i=t[4]?parseInt(t[4],10):0;"-"===r&&(i*=-1);let a=i;for(let t=0;t<e;t++)a+=Math.floor(Math.random()*n)+1;return a}()}catch(e){t='Invalid input. Use format like "3d6+2".'}var e=CardService.newCardBuilder().setHeader(CardService.newCardHeader().setTitle("Dice Roll Result")).addSection(CardService.newCardSection().addWidget(CardService.newTextParagraph().setText("Result: "+t)));return CardService.newNavigation().updateCard(e.build())}();document.getElementById("result").innerText=`Result: ${t}`}))}async function a(){const n=await t.meet.addon.createAddonSession({cloudProjectNumber:e});await n.createMainStageClient()}})(),diceRoller=r})();